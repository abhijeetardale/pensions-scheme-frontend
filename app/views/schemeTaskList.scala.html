@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import config.FrontendAppConfig
@import play.api.mvc.Call
@import uk.gov.hmrc.play.views.html._
@import views.html._
@import viewmodels.JourneyTaskList

@(appConfig: FrontendAppConfig, jl: JourneyTaskList)(implicit request: Request[_], messages: Messages)

@main_template(
    title = messages("messages__schemeTaskList__title"),
    appConfig = appConfig,
    bodyClasses = None
    ) {

        @components.heading(messages("messages__schemeTaskList__heading").toString)

    <ol class="task-list">
        <div>
            <h2 id="section-about-header" class="heading-large">
                @messages("messages__schemeTaskList__sectionAbout_header")
            </h2>
            <li>
            <li>
                <ul class="task-list-items">
                    <li class="task-list-item">

                        <a id= "section-about-link" class="task-name" href="@jl.about.link.target" aria-describedby="read-declaration-completed">
                            @messages(jl.about.link.text)
                        </a>

                        @jl.about.status.map{ status =>
                            <strong class="task-completed" id="section-about-status">@messages(status)</strong>
                        }

                    </li>
                </ul>
            </li>
        </div>
        <div>
            <h2 id="section-workingKnowledge-header" class="heading-large">
                @messages("messages__schemeTaskList__sectionWorkingKnowledge_header")
            </h2>
            <li>
            <li>
                <ul class="task-list-items">
                    <li class="task-list-item">

                        <a id= "section-workingKnowledge-link" class="task-name" href="@jl.workingKnowledge.link.target" aria-describedby="read-declaration-completed">
                            @messages(jl.workingKnowledge.link.text)
                        </a>

                        @jl.workingKnowledge.status.map{ status =>
                            <strong class="task-completed" id="section-workingKnowledge-status">@messages(status)</strong>
                        }

                    </li>
                </ul>
            </li>
        </div>


        <div>
            <h2 id="section-declaration-header" class="heading-large">
                @messages("messages__schemeTaskList__sectionDeclaration_header")
            </h2>
            <li>
            <li>
                <ul class="task-list-items">
                    <li class="task-list-item">

                        @if(jl.declaration.isDefined){
                            @jl.declaration.map{ link =>
                                <a id= "section-declaration-link" class="task-name" href="@link.target" aria-describedby="read-declaration-completed">
                                    @messages(link.text)
                                </a>
                            }
                        }else{
                            <span id="section-declaration-text">@messages("messages__schemeTaskList__sectionDeclaration_incomplete")</span>
                        }

                    </li>
                </ul>
            </li>
        </div>        
        

    </ol>


}
